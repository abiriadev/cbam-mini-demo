openapi: 3.0.0
info:
  title: CBAM demo API
  version: 0.1.0
  description: aa
paths:
  /:
    get:
      operationId: fetch
      summary: Fetch CBAM data
      responses:
        '200':
          description: |-
            정상 응답
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cbam'
components:
  schemas:
    cbam:
      type: object
      properties:
        a:
          type: object
          properties:
            reporting_period:
              type: object
              description: CBAM 보고 기간
              properties:
                start:
                  type: string
                  format: date
                  description: CBAM 보고 기간의 시작일
                end:
                  type: string
                  format: date
                  description: CBAM 보고 기간의 종료일
              example:
                start: 2024-01-01
                end: 2024-12-31
            about_the_installation:
              type: object
              description: 설비 기본 정보
              properties:
                name_of_the_installation:
                  type: string
                  description: 설비 명칭
                  example: 공장 A
                name_of_the_installation_english:
                  type: string
                  description: 설비 영문 명칭
                  example: factory A
                street_number:
                  type: string
                  description: 주소
                economic_activity:
                  type: string
                post_code:
                  type: integer
                  description: 우편번호
                po_box:
                  type: string
                  description: 우편함
                city:
                  type: string
                  description: 설립 도시
                  example: 'Seoul'
                country:
                  type: string
                unlocode:
                  type: string
                  description: UN/LO 지역 코드
                  example: KR SEL
                coordinates_latitude:
                  type: number
                  description: 설비의 좌표
                coordinates_longitude:
                  type: number
                  description: 설비의 좌표
                name_of_the_authorized_representative:
                  type: string
                  description: 담당자
                email:
                  type: string
                  format: email
                  description: 이메일
                telephone:
                  type: string
                  description: 연락처
                  example: 010-1234-5678
              required:
                - name_of_the_installation_english
                - street_number
                - post_code
                - po_box
                - city
                - country
                - unlocode
                - coordinates_latitude
                - coordinates_longitude
            verifier_of_the_report:
              type: object
              description: CBAM 보고서 인증기관 정보
              properties:
                company_name:
                  type: string
                  description: 사명
                street_number:
                  type: string
                  description: 주소
                city:
                  type: string
                  description: 도시
                postcode:
                  type: string
                  description: 우편번호
                country:
                  type: string
                  description: 국가
                name:
                  type: string
                  description: 담당자 이름
                email_address:
                  type: string
                  format: email
                  description: 이메일
                telephone_number:
                  type: string
                  description: 연락처
                fax:
                  type: string
                  description: 팩스
                accreditation_member_state:
                  type: string
                name_of_the_national_accreditation_body:
                  type: string
                registration_number_issued_by_the_accreditation_body:
                  type: string
                aggregated_goods_categories_and_relevant_production_processes:
                  type: array
                  description: 관련된 집약 상품 카테고리 종류
                  items:
                    type: object
                    properties:
                      agc:
                        $ref: '#/components/schemas/AGC'
                      route1:
                        $ref: '#/components/schemas/Route'
                      route2:
                        $ref: '#/components/schemas/Route'
                      route3:
                        $ref: '#/components/schemas/Route'
                      route4:
                        $ref: '#/components/schemas/Route'
                      route5:
                        $ref: '#/components/schemas/Route'
                      route6:
                        $ref: '#/components/schemas/Route'
                    required:
                      - agc
                      - routes
                purchased_precursors:
                  production_process:
                    $ref: '#/components/schemas/AGC'
                  country_code:
                    $ref: '#/components/schemas/CountryCode'
                  route1:
                    type: string
                  route2:
                    type: string
                  route3:
                    type: string
                  route4:
                    type: string
                  route5:
                    type: string
                  name:
                    type: string
        b:
          type: object
          properties:
            source_streams:
              type: array
              items:
                type: object
                properties:
                  method:
                    type: string
                    enum:
                      - Combustion
                      - Process emissions
                      - Mass Balance
                  name:
                    type: string
                  ad:
                    type: number
                  ad_unit:
                    type: string
                    enum:
                      - t
                      - 1000Nm3
                  ncv:
                    type: number
                  ef:
                    type: number
                  ef_unit:
                    type: string
                    enum:
                      - tCO2/TJ
                      - tCO2/t
                      - tCO2/1000Nm3
                  carbon_content:
                    type: number
                  oxf:
                    type: number
                  convf:
                    type: number
                  bioc:
                    type: number
            pfc_emissions:
              type: array
              items:
                type: object
                properties:
                  method:
                    type: string
                    enum:
                      - Slope method
                      - Overvoltage method
                  type_of_anode:
                    type: string
                  ad:
                    type: number
                  a_frequency:
                    type: number
                  a_duration:
                    type: number
                  a_cf4:
                    type: number
                  b_aeo:
                    type: number
                  b_ce:
                    type: number
                  b_ovc:
                    type: number
                  c2f6:
                    type: number
                  collection_efficiency:
                    type: number
            emissions_sources:
              type: array
              items:
                type: object
                properties:
                  name:
                    type: number
                  type_of_ghg:
                    type: number
                  biomass_fraction:
                    type: number
                  hourly_ghg_conc_average:
                    type: number
                  hours_operating:
                    type: number
                  flue_gas:
                    type: number
        c:
          type: object
          properties: {}
        d:
          type: object
          properties: {}
        e:
          type: object
          properties: {}
        f:
          type: object
          properties: {}
        s1:
          type: object
          properties: {}
        s2:
          type: object
          properties: {}
        s3:
          type: object
          properties: {}
    CBAM:
      type: object
      description: CBAM 계산
      properties:
        # installation:
        # verifier:
        # agcs:
        processes:
          type: array
          description: 제조 공정 목록
          items:
            $ref: '#/components/schemas/Process'
        precursors:
          type: array
          description: 구입한 프리커서 목록
          items:
            $ref: '#/components/schemas/Precursor'
        source-streams:
          type: array
          description: 소스 스트림 목록
          items:
            $ref: '#/components/schemas/Stream'
        ghg-balance:
          type: object
          description: 온실가스 균형 정보
          properties:
            co2:
              type: number
              description: 총 CO2 배출량
            biomass:
              type: number
              description: 총 바이오매스 배출량
            n2o:
              type: number
              description: 총 N20 배출량
            pfc:
              type: number
              description: 총 PFC 배출량
            direct:
              type: number
              description: 총 직접배출량
            indirect:
              type: number
              description: 총 간접배출량
          required:
            - indirect
      required:
        - reporting-period
        - installation
        - verifier
        - agcs
        - processes
        - precursors
        - source-streams
        - ghg-balance
    AGC:
      type: string
      description: 집약 상품 카테고리
      enum:
        - Cement
        - Cement clinker
        - Calcined clays
        - Aluminous cement
        - Iron or steel products
        - Crude steel
        - Direct reduced iron
        - Pig iron
        - Alloys
        - Sintered Ore
        - Hydrogen
        - Ammonia
        - Nitric acid
        - Urea
        - Mixed fertilizers
        - Aluminium products
        - Unwrought aluminium
        - Electricity
    Route:
      type: string
      description: 생산 경로
      enum:
        - Basic oxygen steelmaking
    Process:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: 식별자
        name:
          type: string
          description: 제조 공정 명칭
          example: Process 1
        agc:
          $ref: '#/components/schemas/AGC'
        included-goods:
          type: array
          items:
            $ref: '#/components/schemas/AGC'
        production-level:
          type: object
          description: 각 제조 경로별로 생산된 양
          additionalProperties:
            type: number
            description: 각 경로별로 생산된 양. 톤 단위.
        consumed:
          type: object
          description: 각 제조 공정에서 소비된 양
          additionalProperties:
            type: number
            description: 옆 공정에서 소비된 양. 톤 단위.
        attr:
          type: object
          description: 귀속배출량 계산
          properties:
            direm:
              type: number
              description: 직접배출량
            heat:
              type: object
              description: 측정가능한 열
              properties:
                imported:
                  type: object
                  description: 수입된 열
                  properties:
                    amount:
                      type: number
                      description: 수입된 양
                    ef:
                      type: number
                      description: 배출계수
                  required:
                    - amount
                    - ef
                exported:
                  type: object
                  description: 추출된 열
                  properties:
                    amount:
                      type: number
                      description: 수출된 양
                    ef:
                      type: number
                      description: 배출계수
                  required:
                    - amount
                    - ef
              required:
                - imported
                - exported
            wg:
              type: object
              description: 폐가스
              properties:
                imported:
                  type: object
                  description: 수입된 폐가스
                  properties:
                    amount:
                      type: number
                      description: 수입된 양
                    ef:
                      type: number
                      description: 배출계수
                  required:
                    - amount
                exported:
                  type: object
                  description: 수출된 폐가스
                  properties:
                    amount:
                      type: number
                      description: 수출된 양
                    ef:
                      type: number
                      description: 배출계수
                  required:
                    - amount
              required:
                - imported
                - exported
            electricity:
              type: object
              description: 전력
              properties:
                imported:
                  type: object
                  description: 수입된 전력
                  properties:
                    amount:
                      type: number
                      description: 수입된 양 (MWh)
                    ef:
                      type: number
                      description: 배출계수
                    source:
                      type: string
                      description: 배출계수 출처
                      enum:
                        - D.2.1
                        - D.2.2
                        - D.2.3
                        - D.2.4
                        - Mix
                  required:
                    - amount
                    - ef
                    - source
                exported:
                  type: object
                  description: 수출된 전력 (간접배출량)
                  properties:
                    amount:
                      type: number
                      description: 수출된 양 (MWh)
                    ef:
                      type: number
                      description: 배출계수
                  required:
                    - amount
                    - ef
              required:
                - imported
                - exported
          required:
            - direm
            - electricity
      required:
        - id
        - name
        - agc
        - included-goods
        - production-level
        - consumed
        - attr
    Precursor:
      type: object
      description: 프리커서
      properties:
        id:
          type: string
          format: uuid
          description: 식별자
        name:
          type: string
          description: 프리커서 명칭
        country:
          $ref: '#/components/schemas/CountryCode'
        routes:
          type: array
          items:
            $ref: '#/components/schemas/Route'
        consumed:
          type: object
          additionalProperties:
            type: number
        see:
          type: object
          description: 특정내재배출량 정보
          properties:
            direct:
              type: object
              description: 특정직접내재배출량
              properties:
                value:
                  type: number
                  description: 내재배출량 값 (tCO2e/t)
                source:
                  type: string
                  description: 배출량 출처
                  enum:
                    - Measured
                    - Default
              required:
                - value
                - source
            indirect:
              type: object
              description: 특정간접내재배출량
              properties:
                value:
                  type: number
                  description: 내재배출량 값 (tCO2e/t)
                source:
                  type: string
                  description: 배출량 출처
                  enum:
                    - D.2.1
                    - D.2.2
                    - D.2.3
                    - D.2.4
                    - Mix
              required:
                - value
                - source
            justification:
              type: string
              description: 기본수치를 적용한 이유
              enum:
                - Unreasonable costs for more accurate monitoring
                - Data gaps
                - Other
          required:
            - direct
            - indirect
            - justification
      required:
        - id
        - name
        - country
        - routes
        - consumed
        - see
    Stream:
      type: object
      properties:
        method:
          type: string
          description: 배출량 측정 방식
          enum:
            - Combustion
            - Process emissions
            - Mass Balance
        name:
          type: string
          description: 본 스트림의 명칭
        ad:
          type: number
          description: 소비량 (Activity data)
        ad-unit:
          type: string
          description: 소비량 단위
          enum:
            - t
            - 1000Nm3
          example: t
        ncv:
          type: number
          description: Net calorific value
      required:
        - method
        - name
        - ad
        - ad-unit
        - ncv
    CountryCode:
      type: string
      description: 국가 코드
      enum:
        - AD
        - AE
        - AF
        - AG
        - AI
        - AL
        - AM
        - AN
        - AO
        - AQ
        - AR
        - AS
        - AT
        - AU
        - AW
        - AX
        - AZ
        - BA
        - BB
        - BD
        - BE
        - BF
        - BG
        - BH
        - BI
        - BJ
        - BL
        - BM
        - BN
        - BO
        - BQ
        - BR
        - BS
        - BT
        - BV
        - BW
        - BY
        - BZ
        - CA
        - CC
        - CD
        - CF
        - CG
        - CH
        - CI
        - CK
        - CL
        - CM
        - CN
        - CO
        - CR
        - CU
        - CV
        - CW
        - CX
        - CY
        - CZ
        - DE
        - DJ
        - DK
        - DM
        - DO
        - DZ
        - EC
        - EE
        - EG
        - EH
        - ER
        - ES
        - ET
        - EU
        - FI
        - FJ
        - FK
        - FM
        - FO
        - FR
        - GA
        - GB
        - GD
        - GE
        - GF
        - GG
        - GH
        - GI
        - GL
        - GM
        - GN
        - GP
        - GQ
        - GR
        - GS
        - GT
        - GU
        - GW
        - GY
        - HK
        - HM
        - HN
        - HR
        - HT
        - HU
        - ID
        - IE
        - IL
        - IM
        - IN
        - IO
        - IQ
        - IR
        - IS
        - IT
        - JE
        - JM
        - JO
        - JP
        - KE
        - KG
        - KH
        - KI
        - KM
        - KN
        - KP
        - KR
        - KW
        - KY
        - KZ
        - LA
        - LB
        - LC
        - LI
        - LK
        - LR
        - LS
        - LT
        - LU
        - LV
        - LY
        - MA
        - MC
        - MD
        - ME
        - MF
        - MG
        - MH
        - MK
        - ML
        - MM
        - MN
        - MO
        - MP
        - MQ
        - MR
        - MS
        - MT
        - MU
        - MV
        - MW
        - MX
        - MY
        - MZ
        - NA
        - NC
        - NE
        - NF
        - NG
        - NI
        - NL
        - 'NO'
        - NP
        - NR
        - NU
        - NZ
        - OM
        - PA
        - PE
        - PF
        - PG
        - PH
        - PK
        - PL
        - PM
        - PN
        - PR
        - PS
        - PT
        - PW
        - PY
        - QA
        - QP
        - RE
        - RO
        - RS
        - RU
        - RW
        - SA
        - SB
        - SC
        - SD
        - SE
        - SG
        - SH
        - SI
        - SJ
        - SK
        - SL
        - SM
        - SN
        - SO
        - SR
        - SS
        - ST
        - SV
        - SX
        - SY
        - SZ
        - TC
        - TD
        - TF
        - TG
        - TH
        - TJ
        - TK
        - TL
        - TM
        - TN
        - TO
        - TP
        - TR
        - TT
        - TV
        - TW
        - TZ
        - UA
        - UG
        - UM
        - US
        - UY
        - UZ
        - VA
        - VC
        - VE
        - VG
        - VI
        - VN
        - VU
        - WF
        - WS
        - XA
        - XC
        - XI
        - XK
        - XL
        - XM
        - XO
        - XP
        - XR
        - XS
        - XZ
        - YE
        - YT
        - YU
        - ZA
        - ZM
        - ZR
        - ZW
      example: KR
