openapi: 3.0.0
info:
  title: CBAM excal generation API
  version: 0.1.0
  description: 주어진 값을 사용하여 Excel 파일을 생성하는 백엔드 API 스펙
  license:
    name: CC Attribution-ShareAlike 4.0 (CC BY-SA 4.0)
    url: https://openweathermap.org/price
servers:
  - url: https://cbam.example.aipim.io
paths:
  /:
    post:
      operationId: generateExcel
      summary: Excel 파일 생성 요청
      security: []
      requestBody:
        description: aaa
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/cbam'
      responses:
        '200':
          description: 생성된 Excel 파일
          content:
            application/vnd.ms-excel:
              schema:
                type: string
                format: binary
        '400':
          description: 생성 실패
components:
  schemas:
    cbam:
      type: object
      properties:
        a:
          type: object
          properties:
            reporting_period:
              type: object
              description: CBAM 보고 기간
              properties:
                start:
                  type: string
                  format: date
                  description: CBAM 보고 기간의 시작일
                end:
                  type: string
                  format: date
                  description: CBAM 보고 기간의 종료일
              example:
                start: 2024-01-01
                end: 2024-12-31
            about_the_installation:
              type: object
              description: 설비 기본 정보
              properties:
                name_of_the_installation:
                  type: string
                  description: 설비 명칭
                  example: 공장 A
                name_of_the_installation_english:
                  type: string
                  description: 설비 영문 명칭
                  example: factory A
                street_number:
                  type: string
                  description: 주소
                economic_activity:
                  type: string
                post_code:
                  type: integer
                  description: 우편번호
                po_box:
                  type: string
                  description: 우편함
                city:
                  type: string
                  description: 설립 도시
                  example: 'Seoul'
                country:
                  type: string
                unlocode:
                  type: string
                  description: UN/LO 지역 코드
                  example: KR SEL
                coordinates_latitude:
                  type: number
                  description: 설비의 좌표
                coordinates_longitude:
                  type: number
                  description: 설비의 좌표
                name_of_the_authorized_representative:
                  type: string
                  description: 담당자
                email:
                  type: string
                  format: email
                  description: 이메일
                telephone:
                  type: string
                  description: 연락처
                  example: 010-1234-5678
              required:
                - name_of_the_installation_english
                - street_number
                - post_code
                - po_box
                - city
                - country
                - unlocode
                - coordinates_latitude
                - coordinates_longitude
            verifier_of_the_report:
              type: object
              description: CBAM 보고서 인증기관 정보
              properties:
                company_name:
                  type: string
                  description: 사명
                street_number:
                  type: string
                  description: 주소
                city:
                  type: string
                  description: 도시
                postcode:
                  type: string
                  description: 우편번호
                country:
                  type: string
                  description: 국가
                name:
                  type: string
                  description: 담당자 이름
                email_address:
                  type: string
                  format: email
                  description: 이메일
                telephone_number:
                  type: string
                  description: 연락처
                fax:
                  type: string
                  description: 팩스
                accreditation_member_state:
                  type: string
                name_of_the_national_accreditation_body:
                  type: string
                registration_number_issued_by_the_accreditation_body:
                  type: string
            aggregated_goods_categories_and_relevant_production_processes:
              type: object
              properties:
                list_of_aggregated_goods_categories:
                  type: array
                  description: 관련된 집약 상품 카테고리 종류
                  items:
                    type: object
                    properties:
                      agc:
                        $ref: '#/components/schemas/AGC'
                      route1:
                        $ref: '#/components/schemas/Route'
                      route2:
                        $ref: '#/components/schemas/Route'
                      route3:
                        $ref: '#/components/schemas/Route'
                      route4:
                        $ref: '#/components/schemas/Route'
                      route5:
                        $ref: '#/components/schemas/Route'
                      route6:
                        $ref: '#/components/schemas/Route'
                    required:
                      - agc
                      - routes
                relevant_production_processes:
                  type: array
                  items:
                    type: object
                    properties:
                      production_process:
                        $ref: '#/components/schemas/AGC'
                      included_goods_categories_1:
                        $ref: '#/components/schemas/AGC'
                      included_goods_categories_2:
                        $ref: '#/components/schemas/AGC'
                      included_goods_categories_3:
                        $ref: '#/components/schemas/AGC'
                      included_goods_categories_4:
                        $ref: '#/components/schemas/AGC'
                      included_goods_categories_5:
                        $ref: '#/components/schemas/AGC'
                      included_goods_categories_6:
                        $ref: '#/components/schemas/AGC'
                      name:
                        type: string
            purchased_precursors:
              type: object
              properties:
                production_process:
                  $ref: '#/components/schemas/AGC'
                country_code:
                  $ref: '#/components/schemas/CountryCode'
                route1:
                  $ref: '#/components/schemas/Route'
                route2:
                  $ref: '#/components/schemas/Route'
                route3:
                  $ref: '#/components/schemas/Route'
                route4:
                  $ref: '#/components/schemas/Route'
                route5:
                  $ref: '#/components/schemas/Route'
                name:
                  $ref: '#/components/schemas/Route'
        b:
          type: object
          properties:
            source_streams:
              type: array
              items:
                type: object
                properties:
                  method:
                    type: string
                    enum:
                      - Combustion
                      - Process emissions
                      - Mass Balance
                  name:
                    type: string
                  ad:
                    type: number
                  ad_unit:
                    type: string
                    enum:
                      - t
                      - 1000Nm3
                  ncv:
                    type: number
                  ef:
                    type: number
                  ef_unit:
                    type: string
                    enum:
                      - tCO2/TJ
                      - tCO2/t
                      - tCO2/1000Nm3
                  carbon_content:
                    type: number
                  oxf:
                    type: number
                  convf:
                    type: number
                  bioc:
                    type: number
            pfc_emissions:
              type: array
              items:
                type: object
                properties:
                  method:
                    type: string
                    enum:
                      - Slope method
                      - Overvoltage method
                  type_of_anode:
                    type: string
                  ad:
                    type: number
                  a_frequency:
                    type: number
                  a_duration:
                    type: number
                  a_cf4:
                    type: number
                  b_aeo:
                    type: number
                  b_ce:
                    type: number
                  b_ovc:
                    type: number
                  c2f6:
                    type: number
                  collection_efficiency:
                    type: number
            emissions_sources:
              type: array
              items:
                type: object
                properties:
                  name:
                    type: number
                  type_of_ghg:
                    type: number
                  biomass_fraction:
                    type: number
                  hourly_ghg_conc_average:
                    type: number
                  hours_operating:
                    type: number
                  flue_gas:
                    type: number
        c:
          type: object
          properties:
            fuel_balance:
              type: object
              properties:
                total_fuel_input:
                  type: number
                direct_fuel_for_cbam_goods:
                  type: number
                fuel_for_electricity:
                  type: number
                direct_fuel_for_non_cbam_goods:
                  type: number
            greenhouse_gas_emissions_balance:
              type: object
              properties:
                ghg_balance_by_type_of_ghg:
                  type: object
                  description: 온실가스 균형 정보
                  properties:
                    total_co2_emissions:
                      type: number
                      description: 총 CO2 배출량
                    biomass_emissions:
                      type: number
                      description: 총 바이오매스 배출량
                    total_n2o_emissions:
                      type: number
                      description: 총 N20 배출량
                    total_pfc_emissions:
                      type: number
                      description: 총 PFC 배출량
                    total_direct_emissions:
                      type: number
                      description: 총 직접배출량
                    total_indirect_emissions:
                      type: number
                      description: 총 간접배출량
                  required:
                    - total_indirect_emissions
                information_on_the_data_quality_and_quality_assurance:
                  type: object
                  properties:
                    general_information_on_data_quality:
                      type: string
                      enum:
                        - Mostly measurements & analyses
                        - Mostly measurements & national standard factors for e.g. the emission factor
                        - Mostly measurements & sector-specific standard factors for e.g. the emission factor
                        - Mostly measurements & international standard factors for e.g. the emission factor
                        - Mostly default values provided by the European Commission
                    justification_for_use_of_default_values:
                      type: string
                      enum:
                        - Unreasonable costs for more accurate monitoring
                        - Data gaps
                        - Other
                    information_on_quality_assurance:
                      type: string
                      enum:
                        - Third-party verification
                        - Internal audits
                        - Four eyes principle
                        - None
        d:
          type: array
          items:
            type: object
            properties:
              total_production_level:
                type: array
                description: 각 제조 경로별로 생산된 양
                items:
                  type: number
                  description: 각 경로별로 생산된 양. 톤 단위.
              production_for_the_market:
                type: number
              consumed_in_other_production_processes:
                type: array
                description: 각 제조 공정에서 소비된 양
                items:
                  type: number
                  description: 옆 공정에서 소비된 양. 톤 단위.
              consumed_in_non_cbam_goods:
                type: number
              calculation_of_the_attributed_emissions:
                type: object
                description: 귀속배출량 계산
                properties:
                  direm:
                    type: number
                    description: 직접배출량
                  measurable_heat:
                    type: object
                    description: 측정가능한 열
                    properties:
                      applicable:
                        type: boolean
                      imported:
                        type: object
                        description: 수입된 열
                        properties:
                          amount:
                            type: number
                            description: 수입된 양
                          ef:
                            type: number
                            description: 배출계수
                        required:
                          - amount
                          - ef
                      exported:
                        type: object
                        description: 추출된 열
                        properties:
                          amount:
                            type: number
                            description: 수출된 양
                          ef:
                            type: number
                            description: 배출계수
                        required:
                          - amount
                          - ef
                    required:
                      - imported
                      - exported
                  waste_gases:
                    type: object
                    description: 폐가스
                    properties:
                      applicable:
                        type: boolean
                      imported:
                        type: number
                        description: 수입된 폐가스
                      exported:
                        type: number
                        description: 수출된 폐가스
                    required:
                      - imported
                      - exported
                  indirect_emissions_from_electricity_consumption:
                    type: object
                    description: 수입된 전력
                    properties:
                      amount:
                        type: number
                        description: 수입된 양 (MWh)
                      ef:
                        type: number
                        description: 배출계수
                      source:
                        type: string
                        description: 배출계수 출처
                        enum:
                          - D.2.1
                          - D.2.2
                          - D.2.3
                          - D.2.4
                          - Mix
                    required:
                      - amount
                      - ef
                      - source
                  electricity_exported_from_the_production_process:
                    type: object
                    description: 수출된 전력 (간접배출량)
                    properties:
                      amount:
                        type: number
                        description: 수출된 양 (MWh)
                      ef:
                        type: number
                        description: 배출계수
                    required:
                      - amount
                      - ef
        e:
          type: object
          properties:
            consumed_in_production_processes:
              type: array
              items:
                type: number
            specific_embedded_emissions:
              type: object
              description: 특정내재배출량 정보
              properties:
                direct:
                  type: object
                  description: 특정직접내재배출량
                  properties:
                    value:
                      type: number
                      description: 내재배출량 값 (tCO2e/t)
                    source:
                      type: string
                      description: 배출량 출처
                      enum:
                        - Measured
                        - Default
                  required:
                    - value
                    - source
                indirect:
                  type: object
                  description: 특정간접내재배출량
                  properties:
                    value:
                      type: number
                      description: 내재배출량 값 (tCO2e/t)
                    source:
                      type: string
                      description: 배출량 출처
                      enum:
                        - D.2.1
                        - D.2.2
                        - D.2.3
                        - D.2.4
                        - Mix
                  required:
                    - value
                    - source
                justification:
                  type: string
                  description: 기본수치를 적용한 이유
                  enum:
                    - Unreasonable costs for more accurate monitoring
                    - Data gaps
                    - Other
              required:
                - direct
                - indirect
                - justification
        f:
          type: object
          properties: {}
        s_production:
          type: array
          items:
            type: object
            properties:
              production_process:
                type: string
              cn_code:
                type: number
              product_name:
                type: string
              the_main_reducing_agent_of_the_precursor:
                type: string
                enum:
                  - Coal or coke
                  - Natural gas
                  - Biogas
                  - Hydrogen
              steel_mill_identification_number:
                type: number
              p_mn:
                type: number
              p_cr:
                type: number
              p_nr:
                type: number
              p_other_alloys:
                type: number
              p_carbon:
                type: number
              t_scrap_per_t_steel:
                type: number
              p_other_materials:
                type: number
              p_pre_consumer_scrap:
                type: number
              t_scrap_per_t_aluminium:
                type: number
              p_non_aluminium_elements:
                type: number
              clinker_factor:
                type: number
              concentration:
                type: number
              p_nitric_acid:
                type: number
              p_urea:
                type: number
              p_n_contained:
                type: number
              p_n_as_nitrate:
                type: number
              p_n_as_urea:
                type: number
              p_n_in_other_forms:
                type: number
              form_of_carbon_price:
                type: string
                enum:
                  - Emissions Trading System
                  - Tax or levy
                  - Combination
                  - Other
              share_of_total_embedded_emissions_covered_by_the_carbon_price:
                type: number
              currency:
                $ref: '#/components/schemas/Currency'
              carbon_price:
                type: number
              form_of_rebate:
                type: string
                enum:
                  - Free allocation
                  - Financial compensation
                  - Tax deduction
                  - Combination
                  - Other
              share_of_total_embedded_emissions_covered_by_the_rebate:
                type: number
              amount_of_rebate:
                type: number
    AGC:
      type: string
      description: 집약 상품 카테고리
      enum:
        - Cement
        - Cement clinker
        - Calcined clays
        - Aluminous cement
        - Iron or steel products
        - Crude steel
        - Direct reduced iron
        - Pig iron
        - Alloys
        - Sintered Ore
        - Hydrogen
        - Ammonia
        - Nitric acid
        - Urea
        - Mixed fertilizers
        - Aluminium products
        - Unwrought aluminium
        - Electricity
    Route:
      type: string
      description: 생산 경로
      enum:
        - Basic oxygen steelmaking
    CountryCode:
      type: string
      description: 국가 코드
      enum:
        - AD
        - AE
        - AF
        - AG
        - AI
        - AL
        - AM
        - AN
        - AO
        - AQ
        - AR
        - AS
        - AT
        - AU
        - AW
        - AX
        - AZ
        - BA
        - BB
        - BD
        - BE
        - BF
        - BG
        - BH
        - BI
        - BJ
        - BL
        - BM
        - BN
        - BO
        - BQ
        - BR
        - BS
        - BT
        - BV
        - BW
        - BY
        - BZ
        - CA
        - CC
        - CD
        - CF
        - CG
        - CH
        - CI
        - CK
        - CL
        - CM
        - CN
        - CO
        - CR
        - CU
        - CV
        - CW
        - CX
        - CY
        - CZ
        - DE
        - DJ
        - DK
        - DM
        - DO
        - DZ
        - EC
        - EE
        - EG
        - EH
        - ER
        - ES
        - ET
        - EU
        - FI
        - FJ
        - FK
        - FM
        - FO
        - FR
        - GA
        - GB
        - GD
        - GE
        - GF
        - GG
        - GH
        - GI
        - GL
        - GM
        - GN
        - GP
        - GQ
        - GR
        - GS
        - GT
        - GU
        - GW
        - GY
        - HK
        - HM
        - HN
        - HR
        - HT
        - HU
        - ID
        - IE
        - IL
        - IM
        - IN
        - IO
        - IQ
        - IR
        - IS
        - IT
        - JE
        - JM
        - JO
        - JP
        - KE
        - KG
        - KH
        - KI
        - KM
        - KN
        - KP
        - KR
        - KW
        - KY
        - KZ
        - LA
        - LB
        - LC
        - LI
        - LK
        - LR
        - LS
        - LT
        - LU
        - LV
        - LY
        - MA
        - MC
        - MD
        - ME
        - MF
        - MG
        - MH
        - MK
        - ML
        - MM
        - MN
        - MO
        - MP
        - MQ
        - MR
        - MS
        - MT
        - MU
        - MV
        - MW
        - MX
        - MY
        - MZ
        - NA
        - NC
        - NE
        - NF
        - NG
        - NI
        - NL
        - 'NO'
        - NP
        - NR
        - NU
        - NZ
        - OM
        - PA
        - PE
        - PF
        - PG
        - PH
        - PK
        - PL
        - PM
        - PN
        - PR
        - PS
        - PT
        - PW
        - PY
        - QA
        - QP
        - RE
        - RO
        - RS
        - RU
        - RW
        - SA
        - SB
        - SC
        - SD
        - SE
        - SG
        - SH
        - SI
        - SJ
        - SK
        - SL
        - SM
        - SN
        - SO
        - SR
        - SS
        - ST
        - SV
        - SX
        - SY
        - SZ
        - TC
        - TD
        - TF
        - TG
        - TH
        - TJ
        - TK
        - TL
        - TM
        - TN
        - TO
        - TP
        - TR
        - TT
        - TV
        - TW
        - TZ
        - UA
        - UG
        - UM
        - US
        - UY
        - UZ
        - VA
        - VC
        - VE
        - VG
        - VI
        - VN
        - VU
        - WF
        - WS
        - XA
        - XC
        - XI
        - XK
        - XL
        - XM
        - XO
        - XP
        - XR
        - XS
        - XZ
        - YE
        - YT
        - YU
        - ZA
        - ZM
        - ZR
        - ZW
      example: KR
    Currency:
      type: string
      description: 화폐
      enum:
        - AED
        - AFN
        - ALL
        - AMD
        - ANG
        - AOA
        - ARS
        - AUD
        - AWG
        - AZN
        - USD
      example: USD
